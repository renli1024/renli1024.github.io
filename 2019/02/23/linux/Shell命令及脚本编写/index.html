<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Shell命令及脚本编写 | Ren Li&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="Ren Li's Blog" />
  
  <meta name="description" content="Shell Shell字面理解是“壳程序”（操作系统可以分为核心kernel和外壳Shell两部分），用于用户和系统内核间的交互。相当于是一个命令解析器，其接收用户命令，然后调用相应的内核指令，完成相应的功能。 Shell有很多种，如Bourne SHell(sh)、Bourne Again SHell(bash)、C SHell(csh)等，这些Shell最大的区别就是命令集的不同。 注1：在l">
<meta name="keywords" content="Linux,Mac">
<meta property="og:type" content="article">
<meta property="og:title" content="Shell命令及脚本编写">
<meta property="og:url" content="https://renli1024.github.io/2019/02/23/linux/Shell命令及脚本编写/index.html">
<meta property="og:site_name" content="Ren Li&#39;s blog">
<meta property="og:description" content="Shell Shell字面理解是“壳程序”（操作系统可以分为核心kernel和外壳Shell两部分），用于用户和系统内核间的交互。相当于是一个命令解析器，其接收用户命令，然后调用相应的内核指令，完成相应的功能。 Shell有很多种，如Bourne SHell(sh)、Bourne Again SHell(bash)、C SHell(csh)等，这些Shell最大的区别就是命令集的不同。 注1：在l">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-07-26T07:18:17.456Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shell命令及脚本编写">
<meta name="twitter:description" content="Shell Shell字面理解是“壳程序”（操作系统可以分为核心kernel和外壳Shell两部分），用于用户和系统内核间的交互。相当于是一个命令解析器，其接收用户命令，然后调用相应的内核指令，完成相应的功能。 Shell有很多种，如Bourne SHell(sh)、Bourne Again SHell(bash)、C SHell(csh)等，这些Shell最大的区别就是命令集的不同。 注1：在l">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/pace.min.js"></script>
  

  
  

</head>

<body>
  <div id="container">
      <header id="header">
    <div id="header-outer">
        <div id="header-menu" class="header-menu-pos animated">
            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">Ren Li&#39;s Blog</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a  href="/">
                        <i class="fa fa-home"></i>
                        <span>Home</span>
                    </a>
                    
                    <a  href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>Archives</span>
                    </a>
                    
                    <a  href="https://github.com/lrStyle">
                        <i class="fa fa-user"></i>
                        <span>Github</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="post-linux/Shell命令及脚本编写" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="post-title" itemprop="name">
      Shell命令及脚本编写
    </h1>
    <div class="post-title-bar">
      <ul>
          
        <li>
          <i class="fa fa-calendar"></i>  2019-02-23
        </li>
        
      </ul>
    </div>
  

          
      </header>
    
    <div class="article-entry post-content" itemprop="articleBody">
      
            
            <h2 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h2><ul>
<li>Shell字面理解是“壳程序”（操作系统可以分为核心kernel和外壳Shell两部分），用于用户和系统内核间的交互。相当于是一个命令解析器，其接收用户命令，然后调用相应的内核指令，完成相应的功能。</li>
<li>Shell有很多种，如Bourne SHell(sh)、<strong>Bourne Again SHell(bash)</strong>、C SHell(csh)等，这些Shell最大的区别就是命令集的不同。</li>
<li>注1：在linux/mac中预设的Shell就是bash；在Windows中的Shell是cmd和PowerShell，cmd功能较为简单，PowerShell功能则非常强大，可以看作cmd的超集。</li>
<li>注2：如何区分各种shell？可通过命令的开头字符，如果是<code>$, #</code>则为bash(<code>$</code>为普通用户，<code>#</code>为管理员root超级用户)；如果是<code>PS &lt;当前地址&gt;</code>则为Powershell，如果直接是<code>&lt;当前地址&gt;</code>则为cmd。</li>
<li>注3：同时Shell又是一种编程语言，可自动执行一连串的命令，并具有定义变量、循环/分支控制结构等特性。</li>
</ul>
<h2 id="目录写法"><a href="#目录写法" class="headerlink" title="目录写法"></a>目录写法</h2><ul>
<li>绝对路径：从根目录开始，以<code>/</code>开头</li>
<li>相对路径：相对当前目录的路径，不以<code>/</code>开头</li>
<li><code>./</code>表示当前目录，<code>../</code>表示上一级目录（iterable）</li>
<li><code>~</code>表示当前用户目录，即<code>/Users/user_name/</code></li>
<li>路径结尾：文件夹的话结尾最好加<code>/</code>以和文件区分<h3 id="两种斜杠区别"><a href="#两种斜杠区别" class="headerlink" title="两种斜杠区别"></a>两种斜杠区别</h3>正斜杠<code>/</code>：网址路径，linux、mac下地址路径（斜率为正因此称为正斜杠），网址路径和地址路径本质是一样的，都是资源定位符；<br>反斜杠<code>\</code>：转义字符、win下地址路径；</li>
</ul>
<h2 id="Command-line-syntax-some-basic-concepts"><a href="#Command-line-syntax-some-basic-concepts" class="headerlink" title="Command-line syntax: some basic concepts"></a>Command-line syntax: some basic concepts</h2><p>命令行是指可以在终端中运行的命令，通常会有很多的选项、参数，这些选项和参数有多种组合形式，而如何描述这些组合形式则需要一定的规则（syntax），这套规则不仅运用在command line的相关文档中，很多函数相关的文档也用这套sytax来规定如何使用参数，对其了解清楚会很便于我们后续阅读文档，因此在此介绍一些基本的概念。</p>
<h3 id="command-line基本形式"><a href="#command-line基本形式" class="headerlink" title="command line基本形式"></a>command line基本形式</h3><p><code>program_name command --option &lt;argument&gt;</code>，如<code>git commit -m &lt;msg&gt;</code><br><code>program_name</code>：执行命令的程序；<br><code>command</code>：程序要做的动作/要干什么事；<br><code>--option</code>：动作的一些附加选项；<br><code>&lt;argument&gt;</code>：这些附加选项的参数信息；</p>
<h3 id="命令中常见的符号"><a href="#命令中常见的符号" class="headerlink" title="命令中常见的符号"></a>命令中常见的符号</h3><ul>
<li><code>&lt;positional argument&gt;</code>：尖括号angle brackets，表示位置参数，即必须要传入值的参数，positional指传入的是哪个参数的值是由位置指定的，因此其都是跟在某个option后面固定位置的；</li>
<li>注意<code>&lt;&gt;</code>只等用来表示参数，不同表示option.</li>
<li><code>[optional option]</code>：方括号square brackets，用来表示可选的选项，放在这里的选项都是可写可不写的。（直接写出来的选项都是必须写的）</li>
<li><code>(required option)</code>：圆括号parens，表示必须写的选项的，其和直接把选项写出来的区别是：其通常和<code>|</code>pipe符号连用，表示一组必须要有一个的相斥选项；</li>
<li><code>{default values}</code>：花括号curly braces，用来指定一些默认的值；</li>
<li><code>|</code>：竖线pipe，用来表示一组相斥的选项，即多个选项只能选其一。</li>
<li><code>-</code>和<code>--</code>：短杠dash，分为单短杠和双短杠两种，短杠后接参数的简写形式，双短杠则接参数的全称，两种情况是等效的。<br>eg. <code>git commit -m &lt;msg&gt;</code>=<code>git commit --message=&lt;msg&gt;</code></li>
</ul>
<h3 id="参考博客"><a href="#参考博客" class="headerlink" title="参考博客"></a>参考博客</h3><p><a href="http://docopt.org/" target="_blank" rel="noopener">docopt（一款命令解析软件的文档）</a><br><a href="https://pythonconquerstheuniverse.wordpress.com/2010/07/25/command-line-syntax-some-basic-concepts/" target="_blank" rel="noopener">Command-line syntax: some basic concepts</a></p>
<h2 id="环境变量-PATH"><a href="#环境变量-PATH" class="headerlink" title="环境变量/PATH"></a>环境变量/PATH</h2><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><ul>
<li>环境变量是指一些列和系统直接相关的变量，其中最常用的为<code>PATH</code>变量（但不仅仅包含PATH），通常来说设置环境变量即为设置<code>PATH</code>变量的意思。</li>
<li><code>PATH</code>变量中存储了一系列路径，输入终端的指令都要到<code>PATH</code>变量包含的路径中，搜索名字匹配的文件来执行。</li>
<li>设置<code>PATH</code>变量的好处：如果不加到<code>PATH</code>变量中，每次执行程序就必须输入程序对应的目录，而将程序的目录加入<code>PATH</code>后，每次就只需要输入程序名就可以了（终端会自己去目录下搜索名字匹配的程序）。</li>
</ul>
<h3 id="如何修改PATH变量"><a href="#如何修改PATH变量" class="headerlink" title="如何修改PATH变量"></a>如何修改PATH变量</h3><ul>
<li>如何查看：<code>echo $PATH</code></li>
<li>环境变量格式：字符串形式，”dir1:dir2:dir3”，目录间以分号<code>:</code>分隔。</li>
<li>如何设置环境变量：<ul>
<li>修改环境变量对应的文件，只针对当前用户的环境变量，在<code>/Users/user_name/.bash_profil</code>环境中修改；针对所有用户的环境变量：在<code>/etc/profil</code>文件中修改。</li>
<li>设置<code>PATH=&quot;{$PATH}:directory_path&quot;</code></li>
<li>或者直接通过终端执行上述命令也可以。</li>
</ul>
</li>
</ul>
<h3 id="export命令"><a href="#export命令" class="headerlink" title="export命令"></a>export命令</h3><p>设置环境变量：<code>export name=value</code>；显示所有环境变量：<code>export -p</code>。<br>注1: export的效力仅及于该次登陆操作，一旦退出用户，此次登陆就无效了。<br>注2: export和普通赋值的区别：本质都是对变量赋值，区别在于export的变量，次进程后续产生的子进程也可以访问，但普通赋值的变量就只能对当前的进程起作用。</p>
<h2 id="常用Bash命令"><a href="#常用Bash命令" class="headerlink" title="常用Bash命令"></a>常用Bash命令</h2><p>Bash命令适用于Linux和Mac下的terminal</p>
<ul>
<li>创建空目录（在当前目录下）：<code>mkdir xxx</code>：</li>
<li>切换目录：<code>cd &lt;目录路径&gt;</code>（<code>&lt;目录路径&gt;</code>可以是绝对路径，也可以是当前目录的相对路径）</li>
<li>显示当前目录路径：<code>pwd</code></li>
<li>查看当前文件夹下的文件：<code>ls</code></li>
<li>删除文件：<code>rm [文件名]</code></li>
<li>删除整个文件夹：<code>rm -rf [文件夹名]</code></li>
<li>查看当前目录下各个文件及目录占用空间大小：<code>du -sh *</code>，<code>du -sh * | sort -n</code>统计文件大小，并按文件大小排序。</li>
<li>查看当前的进程：<code>ps -ef</code>，列出所有的活动进程；若要筛选某些进程，<code>ps -ef | grep xxx</code>，把名字包含xxx的进程列出来。</li>
<li>使程序在后台运行，<code>nohup command</code>，这样关闭当前terminal也不会杀掉进程（使用ssh连接的场景，ssh断了执行的命令还会继续执行）</li>
<li>使程序打印到某个文件中，<code>command &gt;file_name 2&gt;&amp;1 &amp;</code>，这样程序的标准输出都会直接写到指定的文件中。</li>
</ul>
<h2 id="terminal-操作命令"><a href="#terminal-操作命令" class="headerlink" title="terminal 操作命令"></a>terminal 操作命令</h2><ul>
<li>光标移至行首：ctrl+a</li>
<li>光标移至行尾：ctrl+e</li>
<li>删除一行/结束当前命令：ctrl+c</li>
</ul>
<h2 id="Shell脚本编写"><a href="#Shell脚本编写" class="headerlink" title="Shell脚本编写"></a>Shell脚本编写</h2><ul>
<li>开头定义解释器环境 <code>#! /bin/bash</code></li>
<li>定义变量：<code>variable_name=xxx</code>，直接等号赋值即可。注意：等号两边不能有任何空格！</li>
<li>使用变量：<code>${variable_name}</code>，美元符号指明这是一个变量，外面的花括号用来指明变量边界（可选）。</li>
<li>脚本保存为：<code>script_name.sh</code></li>
<li>脚本执行：<code>sh script_name.sh</code></li>
</ul>

            <div class="post-copyright">
    <hr />
    <div class="content">
        <p>Post Date： 2019-02-23</p>
        <p>版权声明：&nbsp;本文为原创文章，转载请注明出处</p>
    </div>
</div>

      
        
            

        
    </div>
    <footer class="article-footer">
        
        <ul class="article-footer-menu">
            
            
  <li class="article-footer-tags">
    <i class="fa fa-tags"></i>
      
    <a href="/tags/Linux/" class="color1">Linux</a>
      
    <a href="/tags/Mac/" class="color4">Mac</a>
      
  </li>

        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Shell"><span class="post-toc-number">1.</span> <span class="post-toc-text">Shell</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#目录写法"><span class="post-toc-number">2.</span> <span class="post-toc-text">目录写法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#两种斜杠区别"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">两种斜杠区别</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Command-line-syntax-some-basic-concepts"><span class="post-toc-number">3.</span> <span class="post-toc-text">Command-line syntax: some basic concepts</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#command-line基本形式"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">command line基本形式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#命令中常见的符号"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">命令中常见的符号</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#参考博客"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">参考博客</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#环境变量-PATH"><span class="post-toc-number">4.</span> <span class="post-toc-text">环境变量/PATH</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#基本概念"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">基本概念</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#如何修改PATH变量"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">如何修改PATH变量</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#export命令"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">export命令</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#常用Bash命令"><span class="post-toc-number">5.</span> <span class="post-toc-text">常用Bash命令</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#terminal-操作命令"><span class="post-toc-number">6.</span> <span class="post-toc-text">terminal 操作命令</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Shell脚本编写"><span class="post-toc-number">7.</span> <span class="post-toc-text">Shell脚本编写</span></a></li></ol>
        </nav>
    </aside>
    



    
</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>
        Powered by  <a href="http://hexo.io/" target="_blank">Hexo</a>
        Theme <a href="//github.com/wongminho/hexo-theme-miho" target="_blank">MiHo</a>
      &copy; 2019 Ren Li<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
  var mihoConfig = {
      root: "https://renli1024.github.io",
      animate: false,
      isHome: false,
      share: false,
      reward: 1
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/Algorithm/" style="font-size: 13.33px;">Algorithm</a> <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/C-Sharp/" style="font-size: 10px;">C_Sharp</a> <a href="/tags/English/" style="font-size: 15px;">English</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/JSP/" style="font-size: 10px;">JSP</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Lingo/" style="font-size: 10px;">Lingo</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/MachineLearning/" style="font-size: 10px;">MachineLearning</a> <a href="/tags/Math/" style="font-size: 10px;">Math</a> <a href="/tags/Matlab/" style="font-size: 11.67px;">Matlab</a> <a href="/tags/Network/" style="font-size: 16.67px;">Network</a> <a href="/tags/Other/" style="font-size: 20px;">Other</a> <a href="/tags/Paper-Notes/" style="font-size: 15px;">Paper Notes</a> <a href="/tags/Python/" style="font-size: 18.33px;">Python</a> <a href="/tags/SQL/" style="font-size: 10px;">SQL</a> <a href="/tags/Swift/" style="font-size: 10px;">Swift</a> <a href="/tags/TensorFlow/" style="font-size: 18.33px;">TensorFlow</a> <a href="/tags/cs224n/" style="font-size: 16.67px;">cs224n</a> <a href="/tags/正则表达式/" style="font-size: 10px;">正则表达式</a> <a href="/tags/课程笔记/" style="font-size: 10px;">课程笔记</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a  href="/">
                    <i class="fa fa-home"></i><span>Home</span>
                </a>
            </li>
            
            <li>
                <a  href="/archives">
                    <i class="fa fa-archive"></i><span>Archives</span>
                </a>
            </li>
            
            <li>
                <a  href="https://github.com/lrStyle">
                    <i class="fa fa-user"></i><span>Github</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/Algorithm/" style="font-size: 13.33px;">Algorithm</a> <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/C-Sharp/" style="font-size: 10px;">C_Sharp</a> <a href="/tags/English/" style="font-size: 15px;">English</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/JSP/" style="font-size: 10px;">JSP</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Lingo/" style="font-size: 10px;">Lingo</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/MachineLearning/" style="font-size: 10px;">MachineLearning</a> <a href="/tags/Math/" style="font-size: 10px;">Math</a> <a href="/tags/Matlab/" style="font-size: 11.67px;">Matlab</a> <a href="/tags/Network/" style="font-size: 16.67px;">Network</a> <a href="/tags/Other/" style="font-size: 20px;">Other</a> <a href="/tags/Paper-Notes/" style="font-size: 15px;">Paper Notes</a> <a href="/tags/Python/" style="font-size: 18.33px;">Python</a> <a href="/tags/SQL/" style="font-size: 10px;">SQL</a> <a href="/tags/Swift/" style="font-size: 10px;">Swift</a> <a href="/tags/TensorFlow/" style="font-size: 18.33px;">TensorFlow</a> <a href="/tags/cs224n/" style="font-size: 16.67px;">cs224n</a> <a href="/tags/正则表达式/" style="font-size: 10px;">正则表达式</a> <a href="/tags/课程笔记/" style="font-size: 10px;">课程笔记</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>
<script src="/js/search.js"></script>
<script src="/js/main.js"></script>









  <script src="/js/pop-img.js"></script>
  <script>
     $(".article-entry p img").popImg();
  </script>

  </div>
</body>
</html>